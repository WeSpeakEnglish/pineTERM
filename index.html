<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pineTERM</title>
    <style>
        /* â”€â”€ Theme variables â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        :root {
            /* Night (default) */
            --bg-gradient:       linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            --accent:            #00d4ff;
            --accent-dark:       #0099cc;
            --body-text:         #e0e0e0;
            --label-text:        #8892b0;
            --panel-bg:          rgba(255,255,255,0.05);
            --panel-border:      rgba(255,255,255,0.1);
            --panel-shadow:      0 8px 32px rgba(0,0,0,0.3);
            --input-bg:          #1e2a3a;
            --input-bg-hover:    #243347;
            --input-border:      #3a5068;
            --input-text:        #e0e0e0;
            --select-option-bg:  #1a2535;
            --btn-secondary-bg:  rgba(255,255,255,0.1);
            --btn-secondary-fg:  #e0e0e0;
            --btn-secondary-bdr: rgba(255,255,255,0.2);
            --terminal-bg:       rgba(0,0,0,0.3);
            --terminal-border:   rgba(255,255,255,0.1);
            --statusbar-bg:      rgba(0,0,0,0.8);
            --statusbar-border:  rgba(255,255,255,0.1);
            --timestamp-color:   #5a6a7a;
            --data-hex-color:    #a8a8a8;
            --data-ascii-color:  #90ee90;
            --scrollbar-track:   rgba(0,0,0,0.2);
            --scrollbar-thumb:   rgba(255,255,255,0.2);
            --scrollbar-hover:   rgba(255,255,255,0.35);
            --tab-inactive:      #8892b0;
        }

        body.day {
            --bg-gradient:       linear-gradient(135deg, #dde8f5 0%, #c8dcf0 100%);
            --accent:            #0077bb;
            --accent-dark:       #005a99;
            --body-text:         #1a2a3a;
            --label-text:        #4a5a72;
            --panel-bg:          rgba(255,255,255,0.75);
            --panel-border:      rgba(0,80,160,0.15);
            --panel-shadow:      0 8px 32px rgba(0,60,120,0.12);
            --input-bg:          #ffffff;
            --input-bg-hover:    #f0f6ff;
            --input-border:      #96b8d8;
            --input-text:        #1a2a3a;
            --select-option-bg:  #ffffff;
            --btn-secondary-bg:  rgba(0,80,160,0.08);
            --btn-secondary-fg:  #1a2a3a;
            --btn-secondary-bdr: rgba(0,80,160,0.25);
            --terminal-bg:       #f4f8ff;
            --terminal-border:   rgba(0,80,160,0.15);
            --statusbar-bg:      rgba(220,235,250,0.95);
            --statusbar-border:  rgba(0,80,160,0.15);
            --timestamp-color:   #7a8fa8;
            --data-hex-color:    #4a6888;
            --data-ascii-color:  #1a7a3a;
            --scrollbar-track:   rgba(0,0,0,0.05);
            --scrollbar-thumb:   rgba(0,80,160,0.25);
            --scrollbar-hover:   rgba(0,80,160,0.45);
            --tab-inactive:      #4a6888;
        }

        /* â”€â”€ Reset â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
                         'Helvetica Neue', Arial, sans-serif;
            background: var(--bg-gradient);
            min-height: 100vh;
            padding: 20px;
            padding-bottom: 60px;
            color: var(--body-text);
            transition: background 0.4s ease, color 0.4s ease;
        }

        .container { max-width: 1200px; margin: 0 auto; }

        /* â”€â”€ Header row â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .header-row {
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            margin-bottom: 10px;
            padding: 8px 16px;
            border-radius: 16px;
            background: var(--panel-bg);
            border: 1px solid var(--panel-border);
            backdrop-filter: blur(10px);
            box-shadow: var(--panel-shadow), 0 0 60px rgba(0,180,255,0.06);
            overflow: hidden;
        }

        .header-row::before {
            content: '';
            position: absolute;
            inset: 0;
            background: repeating-linear-gradient(
                0deg,
                transparent,
                transparent 3px,
                rgba(0,212,255,0.012) 3px,
                rgba(0,212,255,0.012) 4px
            );
            pointer-events: none;
            border-radius: 16px;
        }

        h1 {
            color: var(--accent);
            font-weight: 300;
            letter-spacing: 2px;
            text-shadow: 0 0 20px rgba(0,180,255,0.25);
            transition: color 0.4s ease;
        }

        /* â”€â”€ Theme toggle â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .theme-toggle {
            position: absolute;
            right: 0;
            display: flex;
            align-items: center;
            gap: 8px;
            background: var(--panel-bg);
            border: 1px solid var(--panel-border);
            border-radius: 20px;
            padding: 5px 10px 5px 10px;
            cursor: pointer;
            user-select: none;
            transition: background 0.3s, border-color 0.3s;
        }

        .theme-toggle:hover { border-color: var(--accent); }

        .theme-toggle-icon { font-size: 16px; line-height: 1; }

        .theme-toggle-label { display: none; }

        /* â”€â”€ Panels â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .panel {
            background: var(--panel-bg);
            border: 1px solid var(--panel-border);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 10px;
            backdrop-filter: blur(10px);
            box-shadow: var(--panel-shadow);
            transition: background 0.4s ease, border-color 0.4s ease;
        }

        .panel-title {
            font-size: 14px;
            color: var(--accent);
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }

        /* â”€â”€ Layout helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .connection-row {
            display: flex; flex-wrap: wrap; gap: 15px;
            align-items: end; justify-content: center;
        }

        .input-group { display: flex; flex-direction: column; gap: 5px; }

        .input-group label {
            font-size: 12px;
            color: var(--label-text);
            font-weight: 500;
        }

        /* â”€â”€ Inputs & selects â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        select, input[type="text"], input[type="file"], input[type="number"] {
            background: var(--input-bg);
            border: 1px solid var(--input-border);
            color: var(--input-text);
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 14px;
            min-width: 100px;
            transition: background 0.3s ease, border-color 0.3s ease,
                        box-shadow 0.3s ease;
        }

        select { cursor: pointer; }

        select option {
            background: var(--select-option-bg);
            color: var(--input-text);
        }

        select:hover, input[type="text"]:hover, input[type="number"]:hover {
            background: var(--input-bg-hover);
            border-color: var(--accent);
        }

        select:focus, input[type="text"]:focus, input[type="number"]:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(0,180,255,0.15);
        }

        input[type="number"] {
            min-width: 80px; width: 100px; text-align: center;
        }

        /* â”€â”€ Buttons â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        button {
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-dark) 100%);
            border: none;
            color: #fff;
            padding: 10px 24px;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            font-size: 12px;
            letter-spacing: 0.5px;
        }

        button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0,180,255,0.4);
        }

        button:disabled { opacity: 0.5; cursor: not-allowed; }

        button.secondary {
            background: var(--btn-secondary-bg);
            color: var(--btn-secondary-fg);
            border: 1px solid var(--btn-secondary-bdr);
        }

        button.secondary:hover:not(:disabled) {
            background: var(--input-bg-hover);
            box-shadow: 0 5px 20px rgba(0,180,255,0.15);
        }

        button.danger {
            background: linear-gradient(135deg, #ff4757 0%, #cc0033 100%);
            color: white;
        }

        button.danger:hover:not(:disabled) {
            box-shadow: 0 5px 20px rgba(255,71,87,0.4);
        }

        /* â”€â”€ Send section â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .send-section { display: flex; flex-direction: column; gap: 15px; }

        .send-row { display: flex; gap: 10px; align-items: center; }
        .send-row input[type="text"] { flex: 1; }

        .line-ending { display: flex; gap: 20px; align-items: center; flex-wrap: wrap; }

        .radio-group { display: flex; align-items: center; gap: 8px; cursor: pointer; }
        .radio-group input[type="radio"] { accent-color: var(--accent); }
        .radio-group label { color: var(--label-text); font-size: 13px; cursor: pointer; }

        .json-section { display: flex; gap: 10px; align-items: center; flex-wrap: wrap; }
        .json-section input[type="text"] { flex: 1; min-width: 150px; }

        /* â”€â”€ Terminal tabs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .terminal-tabs {
            display: flex; gap: 20px; margin-bottom: 10px;
            align-items: center; flex-wrap: wrap;
        }

        .tab-buttons { display: flex; gap: 5px; }

        .tab-btn {
            background: transparent;
            border: none;
            color: var(--tab-inactive);
            padding: 8px 16px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .tab-btn:hover  { color: var(--accent); }
        .tab-btn.active { color: var(--accent); border-bottom-color: var(--accent); }

        .timing-control {
            display: flex; align-items: center; gap: 8px;
            margin-left: auto; font-size: 13px; color: var(--label-text);
        }

        .timing-control input[type="checkbox"] {
            accent-color: var(--accent); width: 16px; height: 16px;
        }

        /* â”€â”€ Terminal body â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .terminal-container {
            border: 1px solid var(--terminal-border);
            border-radius: 8px;
            overflow: hidden;
            background: var(--terminal-bg);
            transition: background 0.4s, border-color 0.4s;
        }

        .terminal-header {
            background: var(--panel-bg);
            padding: 10px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--terminal-border);
        }

        .terminal-title { font-size: 13px; color: var(--accent); font-weight: 600; }

        .terminal-controls { display: flex; gap: 10px; align-items: center; }

        .checkbox-group { display: flex; align-items: center; gap: 6px; cursor: pointer; }
        .checkbox-group input[type="checkbox"] { accent-color: var(--accent); }
        .checkbox-group label { font-size: 12px; color: var(--label-text); cursor: pointer; }

        .terminal-body {
            height: 300px;
            overflow-y: auto;
            padding: 15px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.6;
            display: none;
        }

        .terminal-body.active { display: block; }

        .log-entry { margin-bottom: 4px; display: flex; gap: 10px; }

        .timestamp { color: var(--timestamp-color); min-width: 85px; }

        .direction { font-weight: bold; min-width: 20px; }
        .direction.rx { color: var(--accent); }
        .direction.tx { color: #ff6b6b; }

        .data { color: var(--body-text); word-break: break-all; }
        .data.hex { color: var(--data-hex-color); }
        .ascii-view .data { color: var(--data-ascii-color); }

        /* â”€â”€ Status bar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .status-bar {
            position: fixed; bottom: 0; left: 0; right: 0;
            background: var(--statusbar-bg);
            padding: 10px 20px;
            display: flex; justify-content: space-between; align-items: center;
            border-top: 1px solid var(--statusbar-border);
            font-size: 12px; z-index: 100;
            transition: background 0.4s, border-color 0.4s;
        }

        .status-indicator { display: flex; align-items: center; gap: 8px; }

        .status-dot {
            width: 8px; height: 8px; border-radius: 50%;
            background: #ff4757; box-shadow: 0 0 10px #ff4757;
            transition: all 0.3s ease;
        }

        .status-dot.connected { background: #2ed573; box-shadow: 0 0 10px #2ed573; }

        .stats { display: flex; gap: 20px; color: var(--label-text); }
        .stat  { display: flex; gap: 5px; }
        .stat-value { color: var(--accent); font-weight: 600; }

        /* â”€â”€ Scrollbars â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track  { background: var(--scrollbar-track); }
        ::-webkit-scrollbar-thumb  { background: var(--scrollbar-thumb); border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--scrollbar-hover); }

        /* â”€â”€ Day theme header adjustments â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        body.day .header-row {
            box-shadow: var(--panel-shadow), 0 0 60px rgba(0,100,180,0.08);
        }
        body.day .header-row::before {
            background: repeating-linear-gradient(
                0deg,
                transparent,
                transparent 3px,
                rgba(0,100,180,0.018) 3px,
                rgba(0,100,180,0.018) 4px
            );
        }

        /* â”€â”€ Responsive â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        @media (max-width: 768px) {
            .connection-row { flex-direction: column; align-items: stretch; }
            .input-group { width: 100%; }
            select, input[type="text"] { width: 100%; }
            .terminal-tabs { flex-direction: column; align-items: flex-start; }
            .timing-control { margin-left: 0; margin-top: 10px; }
            .theme-toggle { position: static; margin-left: auto; }
            .header-row { flex-wrap: wrap; gap: 10px; }
        }
    </style>
<base target="_blank">
</head>
<body>
    <div class="container">
        <div class="header-row">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 100" width="480" height="100" style="max-width:100%;height:auto;position:relative;z-index:1;">
              <defs>
                <filter id="tg" x="-10%" y="-40%" width="120%" height="180%">
                  <feGaussianBlur stdDeviation="5" result="b"/>
                  <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
                </filter>
              </defs>
              <!-- "pine" in app accent cyan -->
              <text x="22" y="66"
                font-family="'Courier New', Courier, monospace"
                font-size="62" font-weight="bold"
                fill="#00d4ff" filter="url(#tg)"
                letter-spacing="-1">pine</text>
              <!-- "TERM" slightly dimmer white-cyan -->
              <text x="168" y="66"
                font-family="'Courier New', Courier, monospace"
                font-size="62" font-weight="bold"
                fill="#e0f7ff"
                letter-spacing="-1">TERM</text>
              <!-- Blinking cursor in accent color -->
              <rect x="335" y="16" width="13" height="55" rx="2" fill="#00d4ff" opacity="0.9">
                <animate attributeName="opacity" values="0.9;0.08;0.9" dur="1.1s" repeatCount="indefinite"/>
              </rect>
              <!-- Tagline -->
              <text x="22" y="87"
                font-family="'Courier New', Courier, monospace"
                font-size="10" fill="#00d4ff" opacity="0.38" letter-spacing="2.2">WEB Â· UART Â· SERIAL TERMINAL</text>
              <!-- Bit-stream dots in accent -->
              <g opacity="0.22" transform="translate(302,88)">
                <rect x="0"   y="0" width="3" height="3" rx="0.8" fill="#00d4ff"/>
                <rect x="7"   y="0" width="3" height="3" rx="0.8" fill="#00d4ff"/>
                <rect x="14"  y="0" width="3" height="3" rx="0.8" fill="#0066aa"/>
                <rect x="21"  y="0" width="3" height="3" rx="0.8" fill="#00d4ff"/>
                <rect x="28"  y="0" width="3" height="3" rx="0.8" fill="#0066aa"/>
                <rect x="35"  y="0" width="3" height="3" rx="0.8" fill="#00d4ff"/>
                <rect x="42"  y="0" width="3" height="3" rx="0.8" fill="#00d4ff"/>
                <rect x="49"  y="0" width="3" height="3" rx="0.8" fill="#0066aa"/>
                <rect x="56"  y="0" width="3" height="3" rx="0.8" fill="#00d4ff"/>
                <rect x="63"  y="0" width="3" height="3" rx="0.8" fill="#0066aa"/>
                <rect x="70"  y="0" width="3" height="3" rx="0.8" fill="#00d4ff"/>
                <rect x="77"  y="0" width="3" height="3" rx="0.8" fill="#00d4ff"/>
                <rect x="84"  y="0" width="3" height="3" rx="0.8" fill="#0066aa"/>
                <rect x="91"  y="0" width="3" height="3" rx="0.8" fill="#00d4ff"/>
                <rect x="98"  y="0" width="3" height="3" rx="0.8" fill="#00d4ff"/>
                <rect x="105" y="0" width="3" height="3" rx="0.8" fill="#0066aa"/>
                <rect x="112" y="0" width="3" height="3" rx="0.8" fill="#00d4ff"/>
              </g>
            </svg>
            <button class="theme-toggle secondary" onclick="toggleTheme()" id="themeBtn">
                <span class="theme-toggle-icon" id="themeIcon">ðŸŒ™</span>
                <span class="theme-toggle-label" id="themeLabel">Night</span>
            </button>
        </div>

        <!-- Connection Panel -->
        <div class="panel">
            <div class="panel-title">Connection Settings</div>
            <div class="connection-row">
                <div class="input-group">
                    <label>Baud rate</label>
                    <select id="baudRate">
                        <option value="9600" selected>9600</option>
                        <option value="19200">19200</option>
                        <option value="38400">38400</option>
                        <option value="57600">57600</option>
                        <option value="115200">115200</option>
                        <option value="230400">230400</option>
                        <option value="460800">460800</option>
                        <option value="921600">921600</option>
                    </select>
                </div>
                <div class="input-group">
                    <label>Data bits</label>
                    <select id="dataBits">
                        <option value="7">7</option>
                        <option value="8" selected>8</option>
                    </select>
                </div>
                <div class="input-group">
                    <label>Stop bits</label>
                    <select id="stopBits">
                        <option value="1" selected>1</option>
                        <option value="2">2</option>
                    </select>
                </div>
                <div class="input-group">
                    <label>Parity</label>
                    <select id="parity">
                        <option value="none" selected>None</option>
                        <option value="even">Even</option>
                        <option value="odd">Odd</option>
                    </select>
                </div>
                <div class="input-group">
                    <label>Flow Control</label>
                    <select id="flowControl">
                        <option value="none" selected>None</option>
                        <option value="hardware">Hardware</option>
                    </select>
                </div>
                <button id="connectBtn" onclick="toggleConnection()">Connect to UART</button>
            </div>
        </div>

        <!-- Send Command Panel -->
        <div class="panel">
            <div class="panel-title">Send Command</div>
            <div class="send-section">
                <div class="send-row">
                    <input type="text" id="hexInput" placeholder="50 51 52 (HEX bytes separated by space)" maxlength="200">
                    <button onclick="sendHex()">Send HEX</button>
                </div>
                <div class="send-row">
                    <input type="text" id="asciiInput" placeholder="PQR (ASCII text)">
                    <button onclick="sendAscii()">Send ASCII</button>
                </div>
                
                <div class="line-ending">
                    <span style="color: #8892b0; font-size: 13px;">At the end:</span>
                    <label class="radio-group">
                        <input type="radio" name="lineEnding" value="crlf" checked>
                        <span>Send CR LF</span>
                    </label>
                    <label class="radio-group">
                        <input type="radio" name="lineEnding" value="lf">
                        <span>Send LF</span>
                    </label>
                    <label class="radio-group">
                        <input type="radio" name="lineEnding" value="cr">
                        <span>Send CR</span>
                    </label>
                    <label class="radio-group">
                        <input type="radio" name="lineEnding" value="none">
                        <span>No ending</span>
                    </label>
                </div>

                <div class="json-section">
                    <span style="color: #8892b0; font-size: 13px;">Send JSON command sequence</span>
                    <input type="text" id="jsonFileName" placeholder="Cmd.json" readonly>
                    <button class="secondary" onclick="document.getElementById('jsonFile').click()">Select JSON</button>
                    <input type="file" id="jsonFile" accept=".json" style="display: none;" onchange="handleJsonSelect(this)">
                    <button id="sendJsonBtn" onclick="sendJsonCommands()">Send JSON Commands</button>
                    <button id="stopJsonBtn" class="danger" onclick="stopJsonCommands()" style="display:none;">Stop</button>
                </div>
            </div>
        </div>

        <!-- Combined Terminal Panel -->
        <div class="panel">
            <div class="terminal-tabs">
                <div class="tab-buttons">
                    <button class="tab-btn active" onclick="switchTab('hex')">HEX VIEW</button>
                    <button class="tab-btn" onclick="switchTab('ascii')">ASCII VIEW</button>
                </div>
                <div class="timing-control">
                    <input type="checkbox" id="enableTiming" checked>
                    <span>Separated less than</span>
                    <input type="number" id="timingValue" value="5000" min="0" max="1000000" step="1000">
                    <span>Î¼Sec treat like one package</span>
                </div>
                <div class="terminal-controls" style="margin-left: auto;">
                    <button class="secondary" onclick="exportLog()">Export log</button>
                    <label class="checkbox-group">
                        <input type="checkbox" id="autoScroll" checked>
                        <span>Auto scroll</span>
                    </label>
                    <button class="secondary danger" onclick="clearTerminal()">Clear</button>
                </div>
            </div>
            
            <div class="terminal-container">
                <div class="terminal-body active" id="hexTerminal"></div>
                <div class="terminal-body ascii-view" id="asciiTerminal"></div>
            </div>
        </div>
    </div>

    <!-- Status Bar -->
    <div class="status-bar">
        <div class="status-indicator">
            <div class="status-dot" id="statusDot"></div>
            <span id="statusText">Disconnected</span>
        </div>
        <div class="stats">
            <div class="stat">
                <span>RX:</span>
                <span class="stat-value" id="rxCount">0 bytes</span>
            </div>
            <div class="stat">
                <span>TX:</span>
                <span class="stat-value" id="txCount">0 bytes</span>
            </div>
        </div>
    </div>

<script src="term.js"></script>

</body>
</html>